
//FIND USERS WITH MULTIPLE "LAST EVENTS"
select * from tb_user u where 1 < (select count(*) from event e where e.user_id=u.id and e.start_time = (select max(e2.start_time) from event e2 where e2.user_id=u.id));

//FIND MULTIPLE "LAST EVENTS" FOR USER
WITH u as (SELECT 98304 as id)
select e.id from event e, u where e.user_id=u.id and e.start_time = (select max(e2.start_time) from event e2 where e2.user_id=u.id);

//DELETE EVENT
WITH e as (select 0 as id)
delete from event_media, e where event=e.id;
delete from stay_event, e where id=e.id;
delete from move_event, e where id=e.id;
delete from event, e where id=e.id;
		
//CLEAN ALL TRACES
delete * from event_generation_info;
delete * from positin_trace;
delete * from trace;

//CLEAN ALL TRACES OLDER THAN 1 HOUR 